import{r as C,j as s,i as k}from"./index-CBWIs_fd.js";import{u as y}from"./usePurchases-DGxuk1FS.js";import"./vendor-_uqhELNW.js";import"./web3-_dJq9jWk.js";function A({products:n,balance:l,selectedProduct:i,onSelectProduct:r,onClearSelection:h,onPurchase:x,onAddMoney:a,onViewPurchases:o,isLoading:j,error:c,onRetry:N}){var d;const[m,t]=C.useState(""),{purchases:v}=y(),u=()=>{h()},g=()=>{x()},b=()=>{a(Number(m)),t("")};return j?s.jsxs("div",{className:"loading-container",children:[s.jsx("div",{className:"loading-spinner-initial"}),s.jsx("p",{children:"Loading products..."})]}):c?s.jsx(ErrorMessage,{message:c,onRetry:N}):s.jsxs("div",{className:"vending-machine",children:[s.jsxs("div",{className:"main-content",children:[s.jsxs("div",{className:"products-section",children:[s.jsx("h2",{className:"products-section--title",children:"SNACKS & DRINKS"}),s.jsx("div",{className:"products-grid",children:n.map(e=>s.jsx("div",{children:s.jsxs("div",{onClick:()=>r(e==null?void 0:e.code),className:`product-item ${i===(e==null?void 0:e.code)?"selected":""}`,children:[s.jsx("div",{className:"product-code",children:e==null?void 0:e.code}),s.jsx("div",{className:"product-image",children:s.jsx("img",{src:`${k}${e.image}`,alt:e==null?void 0:e.name,loading:"eager"})}),s.jsxs("div",{className:"product-price",children:["$",Number(e==null?void 0:e.price).toFixed(2)]})]})},e==null?void 0:e.code))})]}),s.jsxs("div",{className:"control-section",children:[s.jsxs("div",{className:"keypad-section",children:[s.jsx("div",{className:"display",children:s.jsx("div",{className:"display-text",children:i?`Selected: ${i}`:"Select your favorite product"})}),s.jsx("div",{className:"keypad",children:s.jsx("button",{className:"keypad-button clear-button",onClick:u,children:"Clear"})}),s.jsx("button",{className:"purchase-button",onClick:g,disabled:!i||l<(((d=n.find(e=>e.id===i))==null?void 0:d.price)||0),children:"Purchase"})]}),s.jsxs("div",{className:"payment-section",children:[s.jsx("h3",{children:"Payment System"}),s.jsx("div",{className:"display",children:s.jsxs("div",{className:"display-amount",children:["$",Number(l).toFixed(2)]})}),s.jsxs("div",{className:"amount-input",children:[s.jsx("input",{type:"number",placeholder:"Amount",value:m,onChange:e=>t(e.target.value)}),s.jsx("button",{className:"add-button",onClick:b,children:"Add"})]}),s.jsxs("div",{className:"quick-amounts",children:[s.jsx("button",{onClick:()=>a(1),children:"$1"}),s.jsx("button",{onClick:()=>a(5),children:"$5"}),s.jsx("button",{onClick:()=>a(10),children:"$10"})]})]})]})]}),s.jsxs("button",{className:"view-purchases-button",onClick:o,children:["View My Purchases (",v.length,")"]})]})}export{A as default};
